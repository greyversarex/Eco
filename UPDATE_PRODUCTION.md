# üîÑ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é Production —Å–µ—Ä–≤–µ—Ä–∞

## üìã –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**–ü—Ä–æ–µ–∫—Ç:** –≠–∫–æ–¢–æ“∑–∏–∫–∏—Å—Ç–æ–Ω - –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –ø–æ—Ä—Ç–∞–ª –ö–æ–º–∏—Ç–µ—Ç–∞ –æ—Ö—Ä–∞–Ω—ã –æ–∫—Ä—É–∂–∞—é—â–µ–π —Å—Ä–µ–¥—ã  
**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω—ã 46 —Ä–µ–∞–ª—å–Ω—ã—Ö –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π, —É–ª—É—á—à–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

## üöÄ –ü—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è)

### ‚öôÔ∏è –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ

```bash
# 1. –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add .
git commit -m "–î–æ–±–∞–≤–ª–µ–Ω—ã 46 –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π, —É–ª—É—á—à–µ–Ω–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å"

# 2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ GitHub
git push origin main
```

---

### üñ•Ô∏è –ù–∞ Production —Å–µ—Ä–≤–µ—Ä–µ

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã **–°–¢–†–û–ì–û –ü–û –ü–û–†–Ø–î–ö–£:**

```bash
# ===== –®–ê–ì 1: –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞ =====
cd /path/to/ecotajikistan

# ===== –®–ê–ì 2: –°–∫–∞—á–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è =====
git pull origin main

# ===== –®–ê–ì 3: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –¥–æ–±–∞–≤–ª—è–ª–∏—Å—å) =====
npm install

# ===== –®–ê–ì 4: –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û! –û–±–Ω–æ–≤–∏—Ç—å —Å—Ö–µ–º—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö =====
npm run db:push

# ===== –®–ê–ì 5: –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û! –î–æ–±–∞–≤–∏—Ç—å –Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ =====
npm run db:seed

# ===== –®–ê–ì 6: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ =====
# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ PM2:
pm2 restart ecotj

# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ systemd:
systemctl restart ecotajikistan

# ===== –®–ê–ì 7: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å =====
# –î–ª—è PM2:
pm2 status
pm2 logs ecotj --lines 50

# –î–ª—è systemd:
systemctl status ecotajikistan
journalctl -u ecotajikistan -f
```

---

## üìä –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ —ç—Ç–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏

### 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

‚úÖ **–¢–∞–±–ª–∏—Ü–∞ `people` (–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏)**
   - –ü–æ–ª–µ `departmentId` —Ç–µ–ø–µ—Ä—å **–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ** (–º–æ–∂–µ—Ç –±—ã—Ç—å NULL)
   - –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—É

### 2. Seed-–¥–∞–Ω–Ω—ã–µ (server/seed.ts)

‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω—ã 46 —Ä–µ–∞–ª—å–Ω—ã—Ö –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π:**

```
–®—É–∫—É—Ä–∑–æ–¥–∞ –ò
–†–∞“≥–º–æ–Ω–∑–æ–¥–∞ –õ.–®
–ù–∞–∑–∏—Ä–∑–æ–¥–∞ –ê–±–¥—É“õ–æ–¥–∏—Ä. –°
“ö—É—Ä–±–æ–Ω–∑–æ–¥–∞ –ê–±–¥—É–ª–ª–æ“≥. “≤
–•–æ–ª–∑–æ–¥–∞ –°—É“≥—Ä–æ–±. –•–æ–ª
–°–∞–±–∑–∞–ª–∏ –®–∞“≥—Ç—É—Ç. –ù
–°–æ–±—Ç—Ä–∑–æ–¥–∞ “ö—É—Ä–±–æ–Ω–∞–ª”£. –ú
–ù—É—Ä–∞–ª–∏–∑–æ–¥–∞ –§–∏—Ä—É–∑. –ú
... (–≤—Å–µ–≥–æ 46)
```

**–í–∞–∂–Ω–æ:** –í—Å–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –ë–ï–ó –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞ (departmentId = null)

### 3. –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (AdminPeople.tsx)

‚úÖ **–£–ª—É—á—à–µ–Ω–∏—è:**
   - –î–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç —Ç–µ–ø–µ—Ä—å **–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–ø—Ü–∏—è **"–ë–µ —à—É—ä–±–∞"** (–ë–µ–∑ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞)
   - –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏ –±–µ–∑ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∞

### 4. –§–æ—Ä–º—ã —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –ø–æ—Ä—É—á–µ–Ω–∏–π

‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
   - –°–ø–∏—Å–∫–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π **–ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å**
   - –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ API `/api/people`
   - –ù–µ—Ç —Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å seed-—Å–∫—Ä–∏–ø—Ç–∞

**–°–∫—Ä–∏–ø—Ç `npm run db:seed` –±–µ–∑–æ–ø–∞—Å–µ–Ω –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞!**

–û–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º:

```typescript
// –ü—Ä–∏–º–µ—Ä –∏–∑ seed.ts
const existing = await db.select()
  .from(people)
  .where(eq(people.name, personName));

if (existing.length === 0) {
  // –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
  await db.insert(people).values({ ... });
}
```

**–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:**
- ‚úÖ –ù–µ —Å–æ–∑–¥–∞—Å—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ
- ‚úÖ –î–æ–±–∞–≤–∏—Ç —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏

---

## üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º–∏ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –í—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:
   - **–õ–æ–≥–∏–Ω:** `admin`
   - **–ü–∞—Ä–æ–ª—å:** `admin123`

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º–∏

3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"–ò–¥–æ—Ä–∞–∏ –∏“∑—Ä–æ–∫—É–Ω–∞–Ω–¥–∞–≥–æ–Ω"** (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º–∏)
4. –í—ã —É–≤–∏–¥–∏—Ç–µ –≤—Å–µ 46 –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
5. –î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:
   - ‚ûï **–î–æ–±–∞–≤–∏—Ç—å** –Ω–æ–≤–æ–≥–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
   - ‚úèÔ∏è **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å** —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ
   - üè¢ **–ù–∞–∑–Ω–∞—á–∏—Ç—å** –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
   - üóëÔ∏è **–£–¥–∞–ª–∏—Ç—å** –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π –∫ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞–º

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–∏–≤—è–∑–∞—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –∫ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—É:

1. –ù–∞–∂–º–∏—Ç–µ **"–¢–∞“≥—Ä–∏—Ä"** (–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å) —Ä—è–¥–æ–º —Å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º
2. –í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç –∏–∑ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞
3. –ò–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ **"–ë–µ —à—É—ä–±–∞"** (–ë–µ–∑ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞)
4. –ù–∞–∂–º–∏—Ç–µ **"–ó–∞—Ö–∏—Ä–∞ –∫–∞—Ä–¥–∞–Ω"** (–°–æ—Ö—Ä–∞–Ω–∏—Ç—å)

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É:

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ PostgreSQL
psql $DATABASE_URL

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
SELECT COUNT(*) FROM people;
-- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å >= 46

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π –±–µ–∑ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞
SELECT name FROM people WHERE department_id IS NULL LIMIT 10;

# –í—ã—Ö–æ–¥
\q
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. ‚úÖ –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
2. ‚úÖ –û—Ç–∫—Ä–æ–π—Ç–µ "–ò–¥–æ—Ä–∞–∏ –∏“∑—Ä–æ–∫—É–Ω–∞–Ω–¥–∞–≥–æ–Ω"
3. ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∏–¥–∏—Ç–µ 46 –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
4. ‚úÖ –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ø–∏—Å–æ–∫ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
5. ‚úÖ –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ—Ä—É—á–µ–Ω–∏–µ - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ø–∏—Å–æ–∫ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π

---

## üêõ –†–µ—à–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –û—à–∏–±–∫–∞ –ø—Ä–∏ `git pull`

```bash
# –ï—Å–ª–∏ –µ—Å—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
git stash
git pull origin main
git stash pop
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –û—à–∏–±–∫–∞ –ø—Ä–∏ `npm run db:push`

```bash
# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
npm run db:push -- --force

# –ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–ª–æ, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
psql $DATABASE_URL -c "SELECT version();"
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: Seed –Ω–µ –¥–æ–±–∞–≤–ª—è–µ—Ç –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ seed-—Å–∫—Ä–∏–ø—Ç–∞
npm run db:seed 2>&1 | tee seed.log

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
echo $DATABASE_URL
```

### –ü—Ä–æ–±–ª–µ–º–∞ 4: "–ü–æ—Ä—Ç —É–∂–µ –∑–∞–Ω—è—Ç"

```bash
# –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É 5000
lsof -i :5000

# –£–±–µ–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å
kill -9 <PID>

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
pm2 restart ecotj
```

### –ü—Ä–æ–±–ª–µ–º–∞ 5: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ PM2
pm2 logs ecotj --lines 100

# –ò–ª–∏ systemd
journalctl -u ecotajikistan -n 100 --no-pager

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
env | grep DATABASE_URL
env | grep NODE_ENV
```

---

## üìù –õ–æ–≥–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# PM2 - –≤—Å–µ –ª–æ–≥–∏
pm2 logs ecotj

# PM2 - —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
pm2 logs ecotj --err

# PM2 - –ø–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫
pm2 logs ecotj --lines 100

# Systemd
journalctl -u ecotajikistan -f
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ PostgreSQL

```bash
# –°—Ç–∞—Ç—É—Å
systemctl status postgresql

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
systemctl restart postgresql

# –õ–æ–≥–∏
tail -f /var/log/postgresql/postgresql-*.log
```

---

## üîê –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:

1. ‚úÖ **–°–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∞** —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
2. ‚úÖ **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞** –∫ —Ñ–∞–π–ª–∞–º –ø—Ä–æ–µ–∫—Ç–∞
3. ‚úÖ **–°–æ–∑–¥–∞–π—Ç–µ –±—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**

```bash
# –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø
pg_dump -U postgres ecotajikistan > backup_$(date +%Y%m%d_%H%M%S).sql

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä –±—ç–∫–∞–ø–∞
ls -lh backup_*.sql
```

4. ‚úÖ **–£–±–µ–¥–∏—Ç–µ—Å—å –≤ —Ä–∞–±–æ—Ç–µ HTTPS**
5. ‚úÖ **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ firewall**

---

## üìû –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# === –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º ===

# –°—Ç–∞—Ç—É—Å PM2
pm2 status

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
pm2 restart ecotj

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
pm2 stop ecotj

# –ó–∞–ø—É—Å–∫
pm2 start ecotj

# === –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö ===

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
psql $DATABASE_URL

# –ë—ç–∫–∞–ø –ë–î
pg_dump ecotajikistan > backup.sql

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞
psql ecotajikistan < backup.sql

# === –°–∏—Å—Ç–µ–º–∞ ===

# –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞ npm
npm cache clean --force

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
rm -rf node_modules package-lock.json
npm install

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–π
node --version
npm --version
psql --version
```

---

## ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ —É–±–µ–¥–∏—Ç–µ—Å—å:

- [ ] Git pull –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ
- [ ] `npm install` –∑–∞–≤–µ—Ä—à–∏–ª—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] `npm run db:push` –ø—Ä–∏–º–µ–Ω–∏–ª –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã
- [ ] `npm run db:seed` –¥–æ–±–∞–≤–∏–ª –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–æ
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
- [ ] –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [ ] –í —Ä–∞–∑–¥–µ–ª–µ "–ò“∑—Ä–æ–∫—É–Ω–∞–Ω–¥–∞–≥–æ–Ω" –≤–∏–¥–Ω—ã 46 —á–µ–ª–æ–≤–µ–∫
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Ä—É—á–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –°–ø–∏—Å–æ–∫ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π –ø–æ–¥–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ –ë–î

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–ß—Ç–æ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ 46 —Ä–µ–∞–ª—å–Ω—ã—Ö –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
- ‚úÖ Nullable –ø–æ–ª–µ departmentId
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- ‚úÖ –û–ø—Ü–∏—è "–ë–µ —à—É—ä–±–∞"

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
- `shared/schema.ts` - —Å—Ö–µ–º–∞ –ë–î
- `server/seed.ts` - –Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- `client/src/pages/AdminPeople.tsx` - –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- `client/src/pages/ComposeMessage.tsx` - —Ñ–æ—Ä–º–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
- `client/src/pages/AssignmentsPage.tsx` - —Ñ–æ—Ä–º–∞ –ø–æ—Ä—É—á–µ–Ω–∏—è

---

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 8 –Ω–æ—è–±—Ä—è 2024  
**–í–µ—Ä—Å–∏—è:** 2.0.0  
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ –∫ production deployment ‚úÖ
