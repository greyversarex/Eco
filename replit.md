# EcoDoc Project Progress

## Разделение типов документов и задач (Намуди ҳуҷҷат ва Намуди супоришҳо)
- **Проблема**: При добавлении типа документа он мог появляться в списке типов задач.
- **Причина**: Недостаточная фильтрация на фронтенде и отсутствие явной передачи категории в API-запросах.
- **Решение**:
  1. **Бэкенд (`server/routes.ts`)**: Маршруты создания (`POST`) и обновления (`PATCH`) теперь явно обрабатывают поле `category`. По умолчанию для новых записей устанавливается `message` (тип документа).
  2. **Фронтенд (`AdminDocumentTypes.tsx`)**:
     - Введен строгий фильтр: `dt.category === 'message'`.
     - В мутации добавления и редактирования добавлена принудительная передача `category: 'message'`.
  3. **Фронтенд (`AdminAssignmentTypes.tsx`)**:
     - Введен строгий фильтр: `dt.category === 'assignment'`.
     - В мутации обновления добавлена передача `category: 'assignment'`, чтобы категория не терялась при редактировании.
  4. **База данных**: Проведено обновление всех существующих записей. Теперь каждая запись имеет четкую привязку к своей категории.

## Текущее состояние
- Приложение работает на порту 5000.
- Админ-панель: `admin` / `admin123`.
- Типы документов и типы задач теперь полностью изолированы друг от друга.
